<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Test</title>
        <script src="https://unpkg.com/lightweight-charts@3.1.5/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        html,
        body {
            font-family: 'Trebuchet MS', Roboto, Ubuntu, sans-serif;
            background: #f9fafb;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .floating-tooltip-2 {
            width: 96px;
            height: 80px;
            position: absolute;
            display: none;
            padding: 8px;
            box-sizing: border-box;
            font-size: 12px;
            color: #131722;
            background-color: rgba(255, 255, 255, 1);
            text-align: left;
            z-index: 1000;
            top: 12px;
            left: 12px;
            pointer-events: none;
            border: 1px solid rgba(255, 70, 70, 1);
            border-radius: 2px;
        }

    </style>

    </head>

    <body>
    <script>
        document.body.style.position = 'relative';
        const container = document.createElement('div');
        document.body.appendChild(container);
        const width = 1920;
        const height = 1080;
        const chart = LightweightCharts.createChart(container, {
            width: width,
            height: height,
            rightPriceScale: {
                scaleMargins: {
                    top: 0.2,
                    bottom: 0.2,
                },
                borderVisible: false,
            },
            timeScale: {
                borderVisible: false,
            },
            layout: {
                backgroundColor: '#ffffff',
                textColor: '#333',
            },
            grid: {
                horzLines: {
                    color: '#eee',
                },
                vertLines: {
                    color: '#ffffff',
                },
            },
        });

        var areaSeries = chart.addAreaSeries({
            topColor: 'rgba(255, 82, 82, 0.56)',
            bottomColor: 'rgba(255, 82, 82, 0.04)',
            lineColor: 'rgba(255, 82, 82, 1)',
            lineWidth: 2,
            symbol: 'BTCUSDT',
        });

        areaSeries.setData([
                            
                                { time: '2019-01-01', value:  10.66456005321849  },
                            
                                { time: '2019-01-02', value:  0.6868230728671094  },
                            
                                { time: '2019-01-03', value:  10.965471913803778  },
                            
                                { time: '2019-01-04', value:  1.0674802621667954  },
                            
                                { time: '2019-01-05', value:  11.258573771140593  },
                            
                                { time: '2019-01-06', value:  1.4283516790237014  },
                            
                                { time: '2019-01-07', value:  11.555656334696884  },
                            
                                { time: '2019-01-08', value:  2.1250708447703364  },
                            
                                { time: '2019-01-09', value:  12.162909774242399  },
                            
                                { time: '2019-01-10', value:  2.1841914960842117  },
                            
                                { time: '2019-01-11', value:  12.704009629251134  },
                            
                                { time: '2019-01-12', value:  2.714777211434917  },
                            
                                { time: '2019-01-13', value:  13.065815109731451  },
                            
                                { time: '2019-01-14', value:  2.8122318298340336  },
                            
                                { time: '2019-01-15', value:  13.746893422124023  },
                            
                                { time: '2019-12-29', value:  101.26572526151998  },
                            
                                { time: '2019-12-30', value:  91.50488259742896  },
                            
                                { time: '2019-12-31', value:  102.16445589443533  },
                            
        ]);

        function businessDayToString(businessDay) {
            return businessDay.year + '-' + businessDay.month + '-' + businessDay.day;
        }

        const toolTipWidth = 100;
        const toolTipHeight = 80;
        const toolTipMargin = 15;

        const toolTip = document.createElement('div');
        toolTip.className = 'floating-tooltip-2';
        container.appendChild(toolTip);

        
        chart.subscribeCrosshairMove(function(param) {
            if (!param.time || param.point.x < 0 || param.point.x > width || param.point.y < 0 || param.point.y > height) {
                toolTip.style.display = 'none';
                return;
            }

            const dateStr = LightweightCharts.isBusinessDay(param.time)
                ? businessDayToString(param.time)
                : new Date(param.time * 1000).toLocaleDateString();

            toolTip.style.display = 'block';
            const price = param.seriesPrices.get(areaSeries);
            toolTip.innerHTML = '<div style="color: rgba(255, 70, 70, 1)">BTCUSDT</div>' +
                '<div style="font-size: 24px; margin: 4px 0px">' + Math.round(price * 100) / 100 + '</div>' +
                '<div>' + dateStr + '</div>';

            const y = param.point.y;

            let left = param.point.x + toolTipMargin;
            if (left > width - toolTipWidth) {
                left = param.point.x - toolTipMargin - toolTipWidth;
            }

            let top = y + toolTipMargin;
            if (top > height - toolTipHeight) {
                top = y - toolTipHeight - toolTipMargin;
            }

            toolTip.style.left = left + 'px';
            toolTip.style.top = top + 'px';
        });
    </script>


















</body>
</html>