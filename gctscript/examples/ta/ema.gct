fmt := import("fmt")
exch := import("exchange")
t := import("times")
sma := import("indicator/sma")
ema := import("indicator/ema")

load := func() {
    start := t.add(t.now(), -t.hour*24)
    ohlcvData := exch.ohlcv("coinbasepro", "BTC-USD", "-", "SPOT", start, t.now(), "1h")

    ret := ema.calculate(ohlcvData.candles, 9)
    fmt.println(ret)

    ret = sma.calculate(ohlcvData.candles, 9)
    fmt.println(ret)
}

load()
